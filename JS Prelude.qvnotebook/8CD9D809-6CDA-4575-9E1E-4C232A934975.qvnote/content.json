{
  "title": "appendFile",
  "cells": [
    {
      "type": "code",
      "language": "javascript",
      "data": "// appendFile :: FilePath -> String -> IO Bool\nconst appendFile = fp =>\n    // The file at fp updated with a new string\n    // appended to its existing contents.\n    txt => {\n        const\n            oFullPath = ObjC.wrap(fp)\n            .stringByStandardizingPath,\n            ref = Ref();\n        return $.NSFileManager.defaultManager\n            .fileExistsAtPathIsDirectory(\n                oFullPath\n                .stringByStandardizingPath, ref\n            ) ? (\n                0 === ref[0] ? (() => {\n                    const // Not a directory\n                        oData = ObjC.wrap(txt)\n                        .dataUsingEncoding($.NSUTF8StringEncoding),\n                        h = $.NSFileHandle.fileHandleForWritingAtPath(\n                            oFullPath\n                        );\n                    return (\n                        h.seekToEndOfFile, // Effect, and\n                        h.writeData(oData),\n                        h.closeFile,\n                        true // value.\n                    );\n                })() : false // Text appending to directory is undefined\n            ) : doesDirectoryExist(takeDirectory(ObjC.unwrap(fp))) ? (\n                writeFile(oFullPath)(txt), // Effect, and\n                true // value.\n            ) : false;\n    };"
    }
  ]
}